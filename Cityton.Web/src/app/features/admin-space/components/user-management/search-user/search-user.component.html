<h1>Search</h1>

<form [formGroup]="searchForm" (ngSubmit)="onSubmit()">

  <mat-form-field>
    <input matNativeControl type="search" formControlName="search">
  </mat-form-field>

  <button type="submit" [disabled]="!searchForm.valid"> Submit </button>

</form>

<mat-button-toggle-group name="securityLevel" value="All" aria-label="Font Style">
  <mat-button-toggle value="All" (change)="onChange('All')">All</mat-button-toggle>
  <mat-button-toggle value="Member" (change)="onChange('Member')">Member</mat-button-toggle>
  <mat-button-toggle value="Checker" (change)="onChange('Checker')">Checker</mat-button-toggle>
  <mat-button-toggle value="Admin" (change)="onChange('Admin')">Admin</mat-button-toggle>
</mat-button-toggle-group>

<section *ngIf="users$">

  <!-- <mat-list> -->

    <ng-container *ngFor="let user of users$ | async">

      <!-- <mat-list-item class="searchResults"> -->

        <mat-card>
          <mat-card-header>
            <!-- <img mat-card-avatar src='{{ user.picture }}'> -->
            <mat-card-title> {{ user.username }} </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-select (selectionChange)="changeSecurityLevel(user.id, $event.value)" value='user.role'>
              <mat-option value="Membre">Member</mat-option>
              <mat-option value="Checker">Checker</mat-option>
              <mat-option value="Admin">Admin</mat-option>
            </mat-select>
          </mat-card-content>
          <mat-card-actions>
              <button mat-mini-fab>
                  <i class="material-icons">
                    build
                  </i>
                </button>
            <button mat-mini-fab (click)="DeleteUser()">
                <i class="material-icons">
                  delete
                </i>
              </button>
          </mat-card-actions>
        </mat-card>

      <!-- </mat-list-item> -->

    </ng-container>

  <!-- </mat-list> -->

</section>
